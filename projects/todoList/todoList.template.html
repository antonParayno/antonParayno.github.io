
<h1>Todos</h1>
<form ng-submit="$ctrl.addTodo($ctrl.todo)">
    <input type="checkbox" ng-model="checked" ng-click="$ctrl.toggleAll(checked)" ><input ng-model="$ctrl.todo" type="text" placeholder="add todo here" autofocus/>
</form>

<section>
	<ul>
		<li ng-class="{ active: $ctrl.tabIsSet(1) }">
			<a href="" ng-click="$ctrl.setTab(1)">All</a>
		</li>
		<li ng-class="{ active: $ctrl.tabIsSet(2) }">
			<a href="" ng-click="$ctrl.setTab(2)">Active</a>
		</li>
		<li ng-class="{ active: $ctrl.tabIsSet(3) }">
			<a href="" ng-click="$ctrl.setTab(3)">Completed</a>
		</li>
	</ul>
	<div ng-show="$ctrl.tabIsSet(1)">
		<ul>
			<li ng-repeat="todo in $ctrl.todoList" ng-dblclick="hideDiv=!hideDiv" ng-init="hideDiv=false">
				<div ng-hide="hideDiv">
					<input type="checkbox" ng-click="$ctrl.toggleTodo(todo)" ng-checked="todo.completed"/>
					<label>{{todo.todo}}</label>
					<input type="button" value="x" ng-click="$ctrl.deleteTodo(todo, todo.id)"/>
				</div>
				<form ng-show="hideDiv" ng-submit="$ctrl.editTodo(todo, todoText)" >
				  <input ng-model="todoText" todo-focus="hideDiv" ng-keyup="$event.keyCode === 13 ? hideDiv=!hideDiv : null" ng-blur="hideDiv" type="text" placeholder="{{todo.todo}}"/>
				</form>
			</li>
		</ul>
	</div>
	<div ng-show="$ctrl.tabIsSet(2)">
		<ul>
			<li ng-repeat="todo in $ctrl.todoList | filter: {completed : false}" ng-dblclick="hideDiv=!hideDiv" ng-init="hideDiv=false">
				<div ng-hide="hideDiv">
					<input type="checkbox" ng-click="$ctrl.toggleTodo(todo)" ng-checked="todo.completed"/>
					<label>{{todo.todo}}</label>
					<input type="button" value="x" ng-click="$ctrl.deleteTodo(todo, todo.id)"/>
				</div>
				<form ng-show="hideDiv" ng-submit="$ctrl.editTodo(todo, todoText)" >
				  <input ng-model="todoText" todo-focus="hideDiv" ng-keyup="$event.keyCode === 13 ? hideDiv=!hideDiv : null" ng-blur="hideDiv" type="text" placeholder="{{todo.todo}}"/>
				</form>
			</li>
		</ul>
	</div>
	<div ng-show="$ctrl.tabIsSet(3)">
		<ul>
			<li ng-repeat="todo in $ctrl.todoList | filter: {completed : true}" ng-dblclick="hideDiv=!hideDiv" ng-init="hideDiv=false">
				<div ng-hide="hideDiv">
					<input type="checkbox" ng-click="$ctrl.toggleTodo(todo)" ng-checked="todo.completed"/>
					<label>{{todo.todo}}</label>
					<input type="button" value="x" ng-click="$ctrl.deleteTodo(todo, todo.id)"/>
				</div>
				<form ng-show="hideDiv" ng-submit="$ctrl.editTodo(todo, todoText)" >
				  <input ng-model="todoText" todo-focus="hideDiv" ng-keyup="$event.keyCode === 13 ? hideDiv=!hideDiv : null" ng-blur="hideDiv" type="text" placeholder="{{todo.todo}}"/>
				</form>
			</li>
		</ul>
	</div>
	<div ng-show="$ctrl.todoList.length >= 1">
	  <input type="button" value="Clear Completed" ng-click="$ctrl.clearCompleted()" />
	</div>

</section>



<!-- <ul>
	<li ng-repeat="todo in $ctrl.todoList">
		<div><input type="checkbox" ng-click="$ctrl.toggleTodo(todo)" /><label>{{todo.todo}}</label></div>
	<li>
<ul>
 -->